PLATFORM="$(uname -s)"
# =================
# Settings
# =================

# =================
# Sourced Scripts
# =================
# Helpful utility functions
if [ -f $HOME/.shell_util ]; then
  source $HOME/.shell_util
fi

# Commonly used aliases
if [ -f $HOME/.aliases ]; then
  source $HOME/.aliases
fi

# platform specific aliases
if [ "$PLATFORM" = "Linux" ] && [ -f $HOME/.aliases_ubu ]; then
  source $HOME/.aliases_ubu
elif [ "$PLATFORM" = "Darwin" ] && [ -f $HOME/.aliases_osx ]; then
  source $HOME/.aliases_osx
fi

# ======================================
# Add script directories to PATH
# =====================================
if which brew 2>&1 >/dev/null; then
  PATH="/usr/local/sbin:$PATH"                       # homebrew
fi

# Initialize go
if which go 2>&1 >/dev/null; then
  PATH="$(go env GOPATH)/bin:$PATH"                  # go bin
  export GOPATH="$HOME/go"
fi

# Initialize rbenv
if [ -d "${HOME}/.rbenv" ]; then
  PATH="$HOME/.rbenv/bin:$PATH"                      # rbenv
  eval "$(rbenv init -)"
fi

# Initialize pyenv
if [ -d "${HOME}/.pyenv" ]; then
  PATH="$HOME/.pyenv/bin:$PATH"                      # pyenv bin
  export PYENV_ROOT="${HOME}/.pyenv"
  export WORKON_HOME="${HOME}/.virtualenvs"
  if command -v pyenv 2>&1 >/dev/null; then
    eval "$(pyenv init --path)"
    eval "$(pyenv init -)"
  fi

  pyenv virtualenvwrapper_lazy
fi

# NVM Setup
if [ -d "${HOME}/.nvm" ]; then
  export NVM_DIR="$HOME/.nvm"
  # This loads nvm
  [ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"
  # This loads nvm bash_completion
  [ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"
fi

if [ -d "${HOME}/.local" ]; then
  bins=($(find "${HOME}/.local" -type d -name "*bin"))
  for d in "${bins[@]}"; do
    PATH="${d}:${PATH}"
  done
fi

if [ -f $HOME/.rc_extra ]; then
  source $HOME/.rc_extra
fi

EMOJIS=(ğŸ¶ ğŸ± ğŸ­ ğŸ¹ ğŸ° ğŸ¦Š ğŸ» ğŸ¼ ğŸ» ğŸ¨ ğŸ¯ ğŸ¦ ğŸ® ğŸ· ğŸ½ ğŸ¸ ğŸµ ğŸ™ˆ ğŸ™‰ ğŸ™Š ğŸ’ ğŸ” ğŸ§
ğŸ¦ ğŸ¤ ğŸ£ ğŸ¥ ğŸ¦† ğŸ¦… ğŸ¦‰ ğŸ¦‡ ğŸº ğŸ— ğŸ´ ğŸ¦„ ğŸ ğŸ› ğŸ¦‹ ğŸŒ ğŸ ğŸœ ğŸ¦‚ ğŸ¢ ğŸ ğŸ¦ ğŸ¦– ğŸ¦• ğŸ™ ğŸ¦‘
ğŸ¦ ğŸ¡ ğŸ  ğŸŸ ğŸ¬ ğŸ³ ğŸ‹ ğŸ¦ˆ ğŸŠ ğŸ… ğŸ† ğŸ¦“ ğŸ¦ ğŸ˜ ğŸ« ğŸ¦’ ğŸƒ ğŸ‚ ğŸ„ ğŸ ğŸ– ğŸ ğŸ‘ ğŸ ğŸ¦Œ ğŸ•
ğŸ© ğŸˆ ğŸ“ ğŸ¦ƒ ğŸ‡ ğŸ ğŸ€ ğŸ¦” ğŸ¾ ğŸ‰ ğŸ² ğŸŒµ ğŸ„ ğŸŒ² ğŸŒ³ ğŸŒ´ ğŸŒ± ğŸŒ¿ ğŸ€ ğŸ ğŸ‹ ğŸƒ ğŸ‚ ğŸ ğŸ„ ğŸŒ¾
ğŸ’ ğŸŒ· ğŸŒ¹ ğŸ¥€ ğŸŒº ğŸŒ¸ ğŸŒ¼ ğŸŒ» ğŸŒ ğŸŒ ğŸŒ› ğŸŒœ ğŸŒš ğŸŒ• ğŸŒ– ğŸŒ— ğŸŒ˜ ğŸŒ‘ ğŸŒ’ ğŸŒ“ ğŸŒ” ğŸŒ™ ğŸŒ ğŸŒ ğŸŒ ğŸ’«
â­ï¸ ğŸŒŸ âœ¨ âš¡ï¸ ğŸ’¥ ğŸ”¥ ğŸŒˆ â›…ï¸ â›„ï¸ ğŸ’¨ ğŸ’§ ğŸ’¦ â˜”ï¸ ğŸŒŠ)

SELECTED_EMOJI="${EMOJIS[$RANDOM % ${#EMOJIS[@]}]}"

PROMPT="${PROMPT}"$'\n'"%(!.âš¡.${SELECTED_EMOJI}) "
